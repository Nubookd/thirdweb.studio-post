"use client";

import { motion } from "framer-motion";
import styles from "./Login.module.scss";
import useModalStore from "@/store/useModalStore";
import appearance from "@/lib/animation/appearance";
import useLoginStore from "@/store/useLoginStore";
import { useState, memo } from "react";
import useLogOutModal from "@/store/useLogOutModalStore";

const Login = () => {
  const login = useLoginStore((state) => state.login);
  const { showModal, showLoginModal, closeModal } = useModalStore();
  const { showLogOutModal, openLogOutModal, closeLogOutModal } =
    useLogOutModal();

  const handleLogOutModal = () => {
    {
      showLogOutModal ? closeLogOutModal() : openLogOutModal();
    }
  };
  const handleLogModal = () => {
    {
      showModal ? closeModal() : showLoginModal();
    }
  };

  return (
    <>
      {login ? (
        <motion.div
          className={styles.login}
          onClick={handleLogOutModal}
          {...appearance.getAppearance(appearance.appearanceUp, 0.8)}
        >
          <svg
            width="100%"
            height="100%"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M16.5626 18H3.43818C2.73178 18 2.21015 17.303 2.47658 16.662C3.71277 13.698 6.61694 12 9.99986 12C13.3838 12 16.288 13.698 17.5242 16.662C17.7906 17.303 17.269 18 16.5626 18ZM5.91667 5.99999C5.91667 3.79399 7.749 1.99999 9.99986 1.99999C12.2517 1.99999 14.083 3.79399 14.083 5.99999C14.083 8.20599 12.2517 9.99999 9.99986 9.99999C7.749 9.99999 5.91667 8.20599 5.91667 5.99999ZM19.9557 17.636C19.2136 14.277 16.8923 11.798 13.837 10.673C15.456 9.39597 16.4003 7.33094 16.0532 5.06993C15.651 2.44693 13.4236 0.347977 10.7348 0.0419769C7.02322 -0.381023 3.87507 2.44899 3.87507 5.99999C3.87507 7.88999 4.76929 9.57397 6.1637 10.673C3.10744 11.798 0.787164 14.277 0.044024 17.636C-0.225466 18.857 0.778999 20 2.05397 20H17.9457C19.2217 20 20.2262 18.857 19.9557 17.636Z"
              fill="black"
            />
          </svg>
          {/* {showLogOutModal && (
            <LoginOutModal onClose={() => setShowLogOutModal(false)} />
          )} */}
        </motion.div>
      ) : (
        <motion.div
          className={styles.login}
          onClick={handleLogModal}
          {...appearance.getAppearance(appearance.appearanceUp, 0.8)}
        >
          <svg
            width="100%"
            height="100%"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M15 17.2915H12.5C12.3342 17.2915 12.1752 17.2257 12.0581 17.1085C11.9408 16.9913 11.875 16.8323 11.875 16.6665C11.875 16.5008 11.9408 16.3418 12.0581 16.2245C12.1752 16.1074 12.3342 16.0415 12.5 16.0415H15C15.2474 16.063 15.4937 15.9885 15.6876 15.8333C15.8816 15.6782 16.0083 15.4543 16.0417 15.2082V4.81652C16.0083 4.5704 15.8816 4.34654 15.6876 4.19138C15.4937 4.03623 15.2474 3.96167 15 3.98319H12.5C12.3342 3.98319 12.1752 3.91735 12.0581 3.80013C11.9408 3.68292 11.875 3.52396 11.875 3.35819C11.875 3.19243 11.9408 3.03346 12.0581 2.91625C12.1752 2.79904 12.3342 2.73319 12.5 2.73319H15C15.289 2.7209 15.5775 2.76571 15.8492 2.86506C16.1207 2.9644 16.3702 3.11633 16.583 3.31216C16.7958 3.50798 16.968 3.74386 17.0896 4.00628C17.2112 4.26871 17.2799 4.55254 17.2917 4.84152V15.1832C17.2799 15.4722 17.2112 15.756 17.0896 16.0185C16.968 16.2809 16.7958 16.5167 16.583 16.7125C16.3702 16.9084 16.1207 17.0603 15.8492 17.1596C15.5775 17.259 15.289 17.3038 15 17.2915Z"
              fill="black"
            />
            <path
              d="M9.1669 13.9582C9.08481 13.9586 9.0034 13.9426 8.92756 13.9111C8.85173 13.8796 8.78298 13.8333 8.72523 13.7749C8.60823 13.6577 8.54248 13.4988 8.54248 13.3332C8.54248 13.1676 8.60823 13.0087 8.72523 12.8916L11.6169 9.9999L8.72523 7.10821C8.61481 6.98973 8.55473 6.83303 8.55756 6.67111C8.56048 6.50919 8.62606 6.3547 8.74056 6.24019C8.85506 6.12568 9.00956 6.06008 9.17148 6.05723C9.3334 6.05438 9.49006 6.11448 9.60856 6.22488L12.9419 9.55823C13.059 9.6754 13.1247 9.83423 13.1247 9.9999C13.1247 10.1655 13.059 10.3243 12.9419 10.4416L9.60856 13.7749C9.5509 13.8333 9.48206 13.8796 9.40623 13.9111C9.3304 13.9426 9.24906 13.9586 9.1669 13.9582Z"
              fill="black"
            />
            <path
              d="M12.5002 10.625H3.3335C3.16774 10.625 3.00876 10.5592 2.89155 10.4419C2.77435 10.3248 2.7085 10.1657 2.7085 10C2.7085 9.83425 2.77435 9.67525 2.89155 9.55808C3.00876 9.44083 3.16774 9.375 3.3335 9.375H12.5002C12.6659 9.375 12.8249 9.44083 12.9421 9.55808C13.0593 9.67525 13.1252 9.83425 13.1252 10C13.1252 10.1657 13.0593 10.3248 12.9421 10.4419C12.8249 10.5592 12.6659 10.625 12.5002 10.625Z"
              fill="black"
            />
          </svg>
        </motion.div>
      )}
    </>
  );
};
export default memo(Login);
